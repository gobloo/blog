<img src="https://r2cdn.perplexity.ai/pplx-full-logo-primary-dark%402x.png" style="height:64px;margin-right:32px"/>

# cheatsheet to android pentest

```markdown
# Android Pentest Complete Cheat Sheet

## üõ†Ô∏è **Setup & Prerequisites**

### Lab Environment
```


# Install ADB + Fastboot

sudo apt install android-tools-adb android-tools-fastboot

# Rooted Emulator / Device (recommended)

# Genymotion, Android Studio AVD, or physical rooted device

# Essential Tools

pip3 install frida frida-tools objection
sudo snap install jadx          \# Decompiler
sudo apt install apktool        \# APK decompiler
sudo snap install burpsuite     \# Proxy
docker run -it --rm -p 8000:8000 opensecurity/mobsf  \# MobSF

```

---

## üìã **Pentest Workflow**

```

1. RECON                    2. STATIC ANALYSIS     3. DYNAMIC ANALYSIS     4. EXPLOITATION
‚îú‚îÄ‚îÄ Device recon            ‚îú‚îÄ‚îÄ APK decompile      ‚îú‚îÄ‚îÄ Network proxy       ‚îú‚îÄ‚îÄ Bypass protections
‚îú‚îÄ‚îÄ App enumeration         ‚îú‚îÄ‚îÄ MobSF scan         ‚îú‚îÄ‚îÄ Frida/Objection     ‚îú‚îÄ‚îÄ Root/jailbreak bypass
‚îú‚îÄ‚îÄ Permissions analysis    ‚îú‚îÄ‚îÄ Strings/secrets    ‚îú‚îÄ‚îÄ Runtime hooks       ‚îî‚îÄ‚îÄ RCE/shell
‚îî‚îÄ‚îÄ Installed apps list     ‚îî‚îÄ‚îÄ Manifest review    ‚îî‚îÄ‚îÄ Log analysis        ‚îî‚îÄ‚îÄ Privilege escalation
```

---

## üîç **RECON & ENUMERATION**

### ADB Commands
```bash
# Connect device
adb devices -l

# Shell access
adb shell

# List packages
adb shell pm list packages
adb shell pm list packages -3       # 3rd party only
adb shell pm list packages | grep target

# App info
adb shell dumpsys package com.target.app
adb shell pm path com.target.app    # Get APK path

# Pull APK
adb pull /data/app/com.target.app-*/base.apk app.apk

# Forward ports (Burp)
adb forward tcp:8080 tcp:8080

# Logcat
adb logcat | grep target
adb logcat *:S ReactNative:V ReactNativeJS:V  # React Native
```


### Frida Recon

```bash
frida-ls-devices
frida-ps -Uai                    # All apps
frida-ps -Ua                     # Running apps
```


---

## üì¶ **STATIC ANALYSIS**

### 1. **MobSF (Automated)**

```bash
# Docker (recommended)
docker run -it -p 8000:8000 opensecurity/mobsf
# Upload APK ‚Üí Get full report (permissions, strings, trackers, URLs, certs)

# Key sections to check:
# - Permissions
# - AndroidManifest.xml
# - Hardcoded secrets
# - Trackers
# - Malware Score
```


### 2. **APK Decompilation**

```bash
# Extract APK contents
unzip app.apk -d app_unzipped/

# Decompile with apktool (smali)
apktool d app.apk -o app_apktool/

# Decompile to Java (jadx - recommended)
jadx-gui app.apk
jadx app.apk -d app_jadx/        # CLI
```


### 3. **Key Files to Review**

```
AndroidManifest.xml     # Activities, permissions, exported components
res/values/strings.xml  # Hardcoded strings/secrets
classes.dex             # Decompiled bytecode (jadx)
lib/*/*.so              # Native libraries
assets/                 # Custom data
```


### 4. **Exported Components (Activities/Services)**

```bash
# List exported activities (low-hanging fruit)
adb shell dumpsys package com.target.app | grep -A20 "Activity"
# Launch manually:
adb shell am start -n com.target.app/.SecretActivity
```


---

## üåê **DYNAMIC ANALYSIS**

### 1. **Proxy Setup (Burp/Frida)**

```bash
# Configure device proxy (WiFi ‚Üí Manual ‚Üí Proxy ‚Üí 127.0.0.1:8080)
adb forward tcp:8080 tcp:8080     # Port forward
# Install Burp CA cert on device
```


### 2. **Frida Runtime Hooking**

```bash
# Attach to running app
frida -U -n com.target.app

# Spawn + hook
frida -U -f com.target.app -l bypass.js --no-pause

# Quick native tracing
frida-trace -U -i SSL_* -f com.target.app
```

**Common Frida Scripts** (save as `.js`):

```js
// SSL Pinning bypass (Android OkHttp)
Java.perform(function() {
    var CertificatePinner = Java.use('okhttp3.CertificatePinner');
    CertificatePinner.check.overload('java.lang.String', '[Ljava.security.cert.Certificate;').implementation = function() {
        console.log('[+] SSL Pinning bypassed');
    };
});
```


### 3. **Objection (Frida wrapper)**

```bash
objection -g com.target.app explore

# Common objection commands
android sslpinning disable
android root disable
android hooking watch class_method 'LoginActivity.login'
android keystore list
android clipboard monitor
memory dump all
```


---

## üõ°Ô∏è **COMMON BYPASSES**

### Root Detection Bypass

```bash
# Objection
objection explore
android root disable

# Frida script
frida -U -f com.target.app -l universal_bypass.js --no-pause
```


### Emulator Detection Bypass

```bash
# Frida / Objection
android emulator bypass
```


### SSL Pinning Bypass

```
1. Objection: android sslpinning disable
2. Frida universal script (codeshare)
3. JustTrustMe (Xposed)
4. Burp + Frida
```


---

## üîì **EXPLOITATION VECTORS**

### 1. **Content Providers (SQLi, path traversal)**

```bash
# Enumerate
adb shell dumpsys package com.target.app | grep "ContentProvider"

# Test generic queries
adb shell content query --uri content://com.target.app.provider/notes
```


### 2. **Deep Links / Intents**

```bash
# Fuzz intents
adb shell am start -a android.intent.action.VIEW -d "http://evil.com"
```


### 3. **Broadcast Receivers**

```bash
adb shell am broadcast -a com.target.SECRET_ACTION
```


### 4. **Exported Activities (Info leak)**

```bash
# List & launch
adb shell dumpsys package com.target.app | grep "Activity.*exported"
adb shell am start -n com.target.app/.DebugActivity
```


---

## üõ†Ô∏è **TOOL SUMMARY**

| **Phase** | **Tool** | **Purpose** |
| :-- | :-- | :-- |
| Recon | `adb`, `frida-ps` | Device/app enumeration |
| Static | `MobSF`, `jadx` | APK analysis, decompilation |
| Dynamic | `Frida`, `Objection` | Runtime hooking, bypasses |
| Proxy | `Burp Suite` | Network traffic interception |
| Native | `Ghidra`, `IDA Pro` | .so library analysis |


---

## üöÄ **QUICK COMMANDS CHEAT SHEET**

```bash
# Pull APK
adb shell pm path com.target.app && adb pull <path>

# Install modified APK
adb install -r modded.apk

# Launch activity
adb shell am start -n com.target.app/.MainActivity

# Clear app data
adb shell pm clear com.target.app

# Frida attach
frida -U -n com.target.app

# Objection
objection -g com.target.app explore
android sslpinning disable
```

**Pro Tip**: Always start with **MobSF** for automated analysis, then **JADX** for deep static analysis, and **Frida/Objection** for dynamic bypasses and runtime inspection.[web:1][web:21][web:5]

```

This comprehensive Android pentest cheatsheet covers the full workflow from reconnaissance through exploitation, with practical commands and tools for each phase. Save as `android_pentest_cheatsheet.md` for quick reference during mobile assessments.
<span style="display:none">[^1][^10][^11][^12][^13][^14][^15][^16][^17][^18][^19][^2][^20][^3][^4][^5][^6][^7][^8][^9]</span>

<div align="center">‚ÅÇ</div>

[^1]: https://github.com/tanprathan/MobileApp-Pentest-Cheatsheet
[^2]: https://infosecwriteups.com/all-about-android-pentesting-f047b7c7e0f1
[^3]: https://www.emmanuelsolis.com/mobile_pentesting.html
[^4]: https://iterasec.com/blog/mobile-application-penetration-testing-guide/
[^5]: https://www.hackingarticles.in/android-pentest-lab-setup-adb-command-cheatsheet/
[^6]: https://github.com/rostomzed/Android-Security-Assessment-Tools
[^7]: https://www.linkedin.com/posts/sachin-p-v_androidsecurity-frida-mobilepentesting-activity-7360729031190728704-Krx-
[^8]: https://yasoob.me/posts/reverse-engineering-android-apps-apktool/
[^9]: https://www.appknox.com/blog/kmm-security-root-jailbreak-detection-ssl-pinning
[^10]: https://fr.scribd.com/document/420737479/Owasp-Mobile
[^11]: https://tcm-sec.com/intro-to-mobile-app-pentesting-static-analysis-tools/
[^12]: https://vkfrost.com/android-penetration-testing-the-tools/
[^13]: https://www.youtube.com/watch?v=tNIICbyKcro
[^14]: https://www.trellix.com/assets/docs/atr-library/ms-bypass-ssl-pinning-android-4-6_als10.pdf
[^15]: https://github.com/ivan-sincek/android-penetration-testing-cheat-sheet
[^16]: https://mas.owasp.org/MASTG/0x04b-Mobile-App-Security-Testing/
[^17]: https://www.hackingarticles.in/android-pentest-automated-analysis-using-mobsf/
[^18]: https://blog.huli.tw/2023/04/27/en/android-apk-decompile-intro-1/
[^19]: https://github.com/okankurtuluss/FridaBypassKit
[^20]: https://www.justmobilesec.com/blog/justmobilesec-android-ios-cheatsheet```

